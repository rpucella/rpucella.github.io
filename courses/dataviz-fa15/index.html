<!DOCTYPE html>
<html>

  <head>
    
    <meta charset="utf-8">
    <title>Visualizing Data (Fall 2015)</title>

    <link rel="stylesheet" href="alt.css" type="text/css">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,800,700' rel='stylesheet' type='text/css'>

    <script src="autoscroll.js"></script>
    
    <style>

        code,tt,pre {
          font-size: 110%;
        }
	
        div.lect {
	  padding-top: 0;
       	  padding-left: 3em;
	  margin-top:0;
        }
    	p.ann { 
    	  padding-left: 3em;
    	  text-indent: -3em; 
    	}
	p.ann_ctd{
	  padding-left: 3em;
        }
    	span.hdr {
   	  padding-right: 1em
    	}

        li.project {
          margin-top: 1em;
        }
    </style>

    <script>
      window.addEventListener("load",run,false);

      function run () {
        // CREATE SCROLLING BEHAVIOR FOR NAVIGATION BAR
        // actually, for anything with "scrollto" class

        // offset is given by the 'top' div (adjusted for padding)
        var off = document.getElementById("top").clientHeight;
        console.log(off);
        //var elts = document.querySelectorAll("div.navbar a");
        var elts = document.querySelectorAll("a.scrollto");
        for (var i=0; i<elts.length; i++) {
          var href=elts[i].getAttribute("href").slice(1);
          elts[i].setAttribute("onclick","return false;");
          elts[i].setAttribute("onmousedown","autoScroll.autoScrollTo(\""+href+"\",-"+(off)+");");
        }

        // SETUP SEND EMAIL LINK
        document.getElementById("send_email").addEventListener("click",send_email);
      }


      function send_email () {
        window.open("mailto:riccardo.pucella@olin.edu");
      }

      </script>
  </head>


  <body>

    <div class="navbar">

      <div class="home">
	<a href="../../index.html"><img src="../../home.png" style="height: 1.6em;"></a>
      </div>

      <ul>
	<li><a class="scrollto" href="#top"><b>Visualizing Data FA15</b></a></li> 
	<li><a class="scrollto" href="#announcements">Announcements</a></li>
	<li><a class="scrollto" href="#info">Course Info</a></li>
	<li><a class="scrollto" href="#lectures">Lectures</a></li>
	<li><a class="scrollto" href="#projects">Projects</a></li>
      </ul>
    </div>


    <div id="top" style="height: 5em;"></div>
    
    <h1 class="clear">Visualizing Data (Fall 2015)</h1>
    
    <p class="subtitle">ENGR 3599-01 / Mon 18:15-20:45 / AC 326</p>
    
      <p>Interactive data visualization sits at the intersection of graphic design and programming. 
         The ideal visualization needs to be easy to understand and aesthetically pleasing, but also 
         interactively navigable, permit different views of the data, and be responsive no matter the 
         amount of data being displayed. The course will focus on the technological aspects of data 
         visualization, from databases and data structures and algorithms to process data, to 
         technologies for interactive visualization such as Javascript/D3.  Course work will be 
         project-driven, based on existing available large data sets. By the end of the course, 
         we should be able to construct visualizations such as 
         <a href="http://fivethirtyeight.com/interactives/world-cup/">2014 World Cup Predictions</a>  or  
         <a href="http://ri.id.au/closethegap">Close the Gap</a>.</p>
    
    <hr class="section">
    <div class="section" id="announcements">
      <h3>Announcements</h3>

      <ul class="simple">

	<li>
	  <p class="ann">
	    <span class="hdr">Dec 18:</span>
	    If you host your final project visualization somewhere, please send me a link, and I will add it here. If you're hosting your project on GitHub and you're not using a custom web server (and don't have a large dataset), you can easily create a <a href="https://help.github.com/articles/creating-project-pages-manually/">GitHub Project Page</a>. If you have a lot of data, or if you need a custom server, then you have to do a bit more work. Consider reducing the size of your data set by pre-aggregating across the dimensions that your viz uses. Alternatively, you can look at hosting options such as <a href="https://www.heroku.com/">Heroku</a> or <a href="http://docs.aws.amazon.com/gettingstarted/latest/wah-linux/web-app-hosting-intro.html">AWS EC2</a>.
	  <p class="ann_ctd">
	    HOSTED FINAL PROJECTS:
	  </p>
	  <p class="ann_ctd">
	    Francisci, Ta, Seitz: <a href="http://phiaseitz.github.io/dataviz-final-project/">Hospital Locator, a web tool to aid in locating the "best-value" hospital near you</a><br>
	    Caporaletti, Langowitz: <a href="http://ec2-54-172-173-152.compute-1.amazonaws.com:5000/">Disability in the school to prison pipeline</a><br>
	    Consilvio, Nakagawa, Hachmann: <a href="http://anishan.github.io/dataviz_final_project/">Refugees</a>
	  </p>
	</li>

	<li>
	  <p class="ann">
	    <span class="hdr">Dec 14:</span>
	    A <a href="project4/snapshots-p4.html">gallery of the Project 4 submissions</a>. 
            As usual, snapshots are in no particular order. 
	  </p>
	</li>

	<li>
	  <p class="ann">
	    <span class="hdr">Dec 1:</span>
	    Details on the <a class="scrollto" href="#project5">final
	    project</a> are up. Really repeating what I said in class
	    on Monday.
	  </p>
	</li>

	<li>
	  <p class="ann">
	    <span class="hdr">Nov 30:</span>
	    Lecture on visualizing spatial data is up.
	  </p>
	</li>

	<li><p><a href="announcements.html">Older announcements...</a></p></li>
      	
      </ul>
      
    </div>

    <hr class="section">
    <div class="section" id="info">
      <h3>Course Info</h3>


      <p>Prerequisites: ENGR 2510 (Software Design)</p>

      <p>Instructor: <a href="http://www.rpucella.net">Riccardo Pucella</a> (<a id="send_email" href="#">send email</a>)</p>

      <p>Office hours: Mon 16:00-18:00 / MH 353</p>

      <p>We will use two books:</p>

      <ul>
	<li>Scott Murray, <i><a href="http://chimera.labs.oreilly.com/books/1230000000345">Interactive Data Visualization for the Web</a></i></li>
	<li>Douglas
	Crockford, <i><a href="http://shop.oreilly.com/product/9780596517748.do">JavaScript:
	The Good Parts</a></i></li>
      </ul>
	
      <p>These books are mostly for reference, but they are good
      references. They provide a narrative that is otherwise lost when
      you look up information online. Murray's book covers D3, the main
      JavaScript library we will use to develop our visualizations. Crockford's book
      covers the non-objectionable parts of the JavaScript
      language, and gives a good sense of the coding style that
      I'll be using.</p>

      <p>Grading: The grade in this course is based on project work: project 1 (10%), projects 2-5 (15% each), 
      final project (30%). Projects are to be completed in teams of three. Those teams will be determined by the instructor (in a combination of random
      selection and cycling) and will be different for each project. Late projects will be penalized. Email the instructor for 
      detail on said penalties.  </p>

      <!-- <p>Late work policy: Homeworks are due at the beginning of lecture on the due date. The penalty for late homeworks is 10% per 24 hours. Note that I will usually discuss the homework that has been submitted on the first lecture past the due date. (Since homeworks are due on Thursdays, that would then usually be the following Monday.) Once I've done that, I will no longer be able to accept late submissions.</p> -->

     </div>

    <hr class="section">
    <div class="section" id="lectures">
      <h3>Lectures and Readings</h3>

      <ul class="lectures">
	<li><p><span class="hdr">Sep 14:</span><b>JavaScript, HTML5 Canvas</b></p>
		<div class="lect">
		  <p><a href="lect01-canvas.pdf">Slides</a>.</p>
		  <p>If you need a review, here are some quick tutorials on <a href="http://www.w3.org/MarkUp/Guide/">HTML</a> and <a href="http://www.w3.org/Style/Examples/011/firstcss.en.html">CSS</a>.</p>
		  <p>Over the next week, you should read the first four chapters of the JavaScript book 
		    (as well as Chapter 6). Here is a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/A_re-introduction_to_JavaScript">reasonable online tutorial on JavaScript</a> 
		    that you may find useful. Skip the object-orientation part. The JavaScript book does it better.</p>
		  <p>If you're looking at a precise description of how to access the DOM from JavaScript, <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model/Introduction">this is a good starting point</a>.</p>
		  <p>Good tutorials on using the canvas: <a href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API">Canvas API</a>, and <a href="http://diveintohtml5.info/canvas.html">Dive Into HTML5</a>.

		  <p><a class="scrollto" href="#project1">Project 1: Warm-up</a>.</p>
		</div>
	</li>	  

	<li><p><span class="hdr">Sep 17:</span><b>Scalable Vector Graphics</b></p>
		<div class="lect">
		  <p><a href="lect02-svg.pdf">Slides</a>. Also, the <a href="lect02-demo.html">sample code</a> we wrote at the end of class.</p> 
		  <p>A nice and astonishingly complete <a href="http://www.w3.org/Graphics/SVG/IG/resources/svgprimer.html">primer for SVG</a>. It's old, but mostly still relevant.</p>
		  <p><a href="https://developer.mozilla.org/en-US/docs/Web/SVG">Online reference for SVG</a>.</p>
	</li>

	<li><p><span class="hdr">Sep 28:</span><b>Static Visualizations I</b></p>

	  <div class="lect">

	    <p><a href="lect03-static-1.pdf">Slides</a>.</p>

	    <p>An <a href="http://www.datavizcatalogue.com/index.html">interactive catalogue of data visualizations</a>.</p>

	    <p>This may be handy as a <a href="http://img.labnol.org/di/data-chart-type.png">quick reference</a>.</p>

	    <p><a href="http://nigelholmes.com/">Nigel Holmes</a> has some beautiful narrative infographics.</p>

	    <p><a href="http://www.nationalgeographic.com/what-the-world-eats/">What the world eats</a> interactive visualization.</p>

	    <p>JavaScript libraries mentioned during lecture: <a href="https://developers.google.com/chart/">Google Charts</a>, <a href="http://www.highcharts.com/">HighCharts</a>, <a href="http://d3js.org/">D3</a>.</p>

	    <p>The sample code given in class: <a href="social-media-1.html">social-media-1.html</a>, <a href="social-media-2.html">social-media-2.html</a>, <a href="social-media-3.html">social-media-3.html</a>.</p>

	    <p>The <a href="measures.png">small graphic</a> I scribbled on the whiteboard describing the measures used to draw the charts in the above code.

	    <p><a class="scrollto" href="#project2">Project 2: Mobile Messaging and Social Media 2015</a>.</p>

	  </div>
	</li>

	<li><p><span class="hdr">Oct 5:</span><b>Static Visualizations II</b></p>
	  <div class="lect">

	    <p><a href="lect04-static-2.pdf">Slides</a>.</p>

	    <p>A variant of the sample code I gave in class: <a href="social-media-7.html">social-media-7.html</a>.</p>

	    <p>Selections in D3: <a href="https://github.com/mbostock/d3/wiki/Selections">the API</a>, and a <a href="http://bost.ocks.org/mike/selection/">long document</a> explaining the implementation which sheds light on the details.</p>

	    <p><a href="http://getbootstrap.com/">Bootstrap</a>, a library for responsive design layout.</p>

	    <p>HTML layout in CSS: <a href="http://htmldog.com/guides/css/intermediate/layout/">old-school CSS</a>, and the new (but not yet standardized) <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Flexible_Box_Layout/Using_CSS_flexible_boxes">flexbox</a> mode.</p>

	  </div>
	</li>

	<li><p><span class="hdr">Oct 19:</span><b>Dynamic Visualizations I</b></p>
	  <div class="lect">

	    <p><a href="lect05-dynamic-1.pdf">Slides</a>.</p>

	    <p>The sample code I gave in class: <a href="social-media-dynamic-1.html">social-media-dynamic-1.html</a>, <a href="social-media-dynamic-2.html">social-media-dynamic-2.html</a>, <a href="data.csv">data.csv</a> (fake data, need I remind you).</p>

	    <p>Here's a quick <a href="http://recurial.com/programming/understanding-callback-functions-in-javascript/">description of how to use callback functions</a> to deal with asynchronous functions like <tt>d3.csv</tt>. It uses a different example, but the principle is the same.</p>

	    <p>The next project works with survey data. Here's an <a href="https://zapier.com/learn/ultimate-guide-to-forms-and-surveys/design-analyze-survey/">overview of the kind of analyses you can do with survey data</a>. (Not all apply to the data we'll be working with, though.)</p>

	    <p><a class="scrollto" href="#project3">Project 3: Global Attitudes 2013</a>.</p>
	  </div>
	</li>
	
	<li><p><span class="hdr">Oct 26:</span><b>Dynamic Visualizations II</b></p>
	  <div class="lect">

	    <p><a href="lect06-dynamic-2.pdf">Slides</a>.</p>

	    <p>The sample code I gave in class: <a href="social-media-dynamic-3.html">social-media-dynamic-3.html</a>, <a href="social-media-dynamic-4.html">social-media-dynamic-4.html</a>, <a href="social-media-dynamic-5.html">social-media-dynamic-5.html</a>. This uses the same fake data from last time: <a href="data.csv">data.csv</a>.</p>

	    <p>Chapters 8 and 10 from the D3 book discusses data updates, and also binding event listeners to view elements.</p>
	  </div>
	</li>
	
	<li><p><span class="hdr">Nov 2:</span><b>Large Data Sets</b></p>
	  <div class="lect">
	    <p>No slides for this one. I sketched everything out on the whiteboard, with lots of code.</p>
	    <p>The data I used is the NCHS data, specifically the <a href="http://www.cdc.gov/nchs/data_access/Vitalstatsonline.htm#Mortality_Multiple">Mortality Multiple Cause</a> datasets, the ones we will be using for Project 4.</p>
	    <p>I pushed the 2013 and the 2008 datasets into a <a href="https://www.sqlite.org/">SQLite</a> database, which can be accessed from Python using the convenient <a href="https://docs.python.org/2/library/sqlite3.html">sqlite3</a> module. SQLite uses SQL as a query language. <a href="http://www.afterhoursprogramming.com/tutorial/SQL/Overview/">Here is a reasonably short tutorial that is not SQLite-specific.</a></p> 
	    <p>A small web server written in Python using the <a href="http://bottlepy.org/docs/dev/index.html">bottle</a> micro web-framework is used to pull the data from the database and deliver it to a front end. The server sends aggregated data to the front end.</p>
	    <p>A simple front end pulls data from the web server and displays it.</p>
	    <p>The sample
	    code:<br>
	      - <a href="mortality.db">mortality.db</a>, the
		  database, a severely cut down version of the full data<br>
	      -  <a href="mortality-server.py">mortality-server.py</a>,
		  the Python web server (uses the bottle framework)<br>
	      -  <a href="mortality-demo.html">mortality-demo.html</a>,
		  the front end.<br>
	      You need to run the web
	      server before you can run the demo. Put all the files in
	      the same folder, and run the web server from that
	      folder. You may need to load the HTML file through the
	      web server,
	      as <tt>localhost:8080/mortality-demo.html</tt>, with the
	      port number you selected.
	    </p>
	    <p>Some more about <a href="http://www.applied-survey-methods.com/weight.html">weighting</a> to produce age-standardized data (or standardization across any demographic category for which we have a population distribution).</p>

	    <p><a class="scrollto" href="#project4">Project 4: Mortality Data</a>.</p>

	  </div>
	</li>



	<li><p><span class="hdr">Nov 9:</span><b>Synchronized Visualizations</b></p>
	  <div class="lect">
	    <p>The sample
	      code:<br>
	      - <a href="mortality.db">mortality.db</a>, the same database as last lecture<br>
	      - <a href="mortality-server-2.py">mortality-server-2.py</a>,
		  the Python web server (uses the bottle framework)<br>
	      - <a href="mortality-demo-2.html">mortality-demo-2.html</a>,
		  the front end.<br>
	       Like last time, you need to run the web server before loading the front end.
	    </p>
	    <p>The <a href="https://github.com/mbostock/d3/wiki/Pack-Layout">pack
	    layout</a> from D3, for creating bubble charts.</p> 
	    <p>I mentioned binding data to a D3 selection using names
	    instead of positional information. <a href="http://bost.ocks.org/mike/constancy/">This is a good short
		description of the topic</a>.</p>

	  </div>
	</li>


	<li><p><span class="hdr">Nov 16:</span><b>Visualizing Temporal Data</b></p>
	  <div class="lect">
	    <p><a href="lect09-temporal.pdf">Slides</a>. The slides contain links to many visualizations of
	    temporal data.</p>
	    <p>D3 recipes: <a href="http://bl.ocks.org/mbostock/3883245">line
	    charts</a>, <a href="http://bl.ocks.org/mbostock/3884955">multi-series line
	    charts</a>, <a href="http://bl.ocks.org/mbostock/3885211">stacked area
	    charts</a>, <a href="http://bl.ocks.org/mbostock/4060954">streamgraphs</a>, <a href="http://bl.ocks.org/kgryte/5926740">rose
	    graphs</a>, <a href="http://bl.ocks.org/tjdecke/5558084">day/hour heatmap</a>.
	    <p>An overview of <a href="http://www.visualisingdata.com/2010/08/making-sense-of-streamgraphs/">streamgraphs.</a></p>

	  </div>
	</li>


	<li><p><span class="hdr">Nov 30:</span><b>Visualizing Spatial Data</b></p>
	  <div class="lect">
	    <p><a href="lect10-spatial.pdf">Slides</a>. The slides contain links to many visualizations of
	    spatial data.</p>

	    <p>Some of the other visualizations in the slides without links: <a href="http://www.citylab.com/weather/2015/11/the-maps-that-prove-daylight-saving-is-ruining-our-lives/417600/">The Maps That Prove the Daylight Saving Cycle Is Ruining Our Lives</a>, <a href="http://www.citylab.com/commute/2015/11/mapping-every-us-road-fatality-from-2004-to-2013/414340/">Mapping Every U.S. Road Fatality From 2004 to 2013</a>.

	    <p>The sample code I demoed in class: <a href="demo-spatial/spatial.html"><code>spatial.html</code></a>, <a href="demo-spatial/world-topo.json"><code>world-topo.json</code></a>.</p>

	    <p>A good article on <a href="https://www.perceptualedge.com/articles/visual_business_intelligence/geographical_data_visualization.pdf">geographical data visualization</a> by Stephen Few.</p>

	    <p>An overview of <a href="http://blog.apps.npr.org/2015/05/11/hex-tile-maps.html">tile grid maps.</a></p>

	    <p>A <a href="https://developers.google.com/maps/tutorials/visualizing/earthquakes">tutorial</a> on using the Google Maps API.</p>

	    <p>D3 recipes: <a href="http://bost.ocks.org/mike/map/">creating maps</a>, and the <a href="https://github.com/mbostock/topojson">TopoJSON</a> format. TopoJSON is an extension of the <a href="http://geojson.org/">GeoJSON</a> format for geographical data. Note that the geographical dataset that I used in my demo above is actually in GeoJSON format. 

	    <p><a class="scrollto" href="#project5">Final Project</a>.</p>
	  </div>
	</li>

	<li><p><span class="hdr">Dec 7:</span><b>Visualizing Network Data</b></p>

	  <div class="lect">
	    <p>No slides, but a <a href="VAD_chapter9.pdf">sample chapter</a> from the textbook <i>Visualization Analysis and Design</i> covers roughly what I talked about.</p>
	    
	    <p>A nice overview of the challenges of <a href="http://billmill.org/pymag-trees/">drawing trees vertically</a>.</p>
	    
	    <p>D3 recipes: <a href="http://bl.ocks.org/mbostock/4339184">Cartesian tree layout (Reingold-Tilford algorithm)</a>, <a href="http://bl.ocks.org/mbostock/4063550">radial tree layout (Reingold-Tilford algorithm)</a>, <a href="http://bl.ocks.org/mbostock/1062288">force layout</a>, <a href="http://bl.ocks.org/mbostock/4062006">chord diagram</a>.</p>

	    <p><a href="http://tulip.labri.fr/publi_tulip/grivetICCVG2004.pdf"><i>Bubble Tree Drawing Algorithm</i></a> by Grivet et al.</p>
	    
	    <p><a href="http://www.techfak.uni-bielefeld.de/~walter/pub/Walter02-kdd.pdf"><i>On Interactive Visualization of High-Dimensional Data using the Hyperbolic Plane</i></a> by Walter and Ritter.</p>

	    <p><a href="http://bost.ocks.org/mike/miserables/"><i>Les Misérables</i> Co-occurrence</a>, an example of a matrix diagram.</p>
	  </div>
	</li>


      </ul>

    </div>

    <hr class="section">
    <div class="section" id="projects">
      <h3>Projects</h3>

      <ul class="lectures">
	<li id="project1" class="project"><p><b>PROJECT 1: Warm-up (and calibration)</b></p>
	  <div class="lect">

	    <p>Due date: <i>Mon Sep 21 at noon</i></p>

	    <p>Each of the questions below ask you to draw something in a canvas. I've provided you with a <a href="project1/project1.html">skeleton HTML file</a> that holds three canvases. (You'll want to right-click and <i>save as</i>.) The HTML file calls a function <tt>run()</tt> upon loading. You should put calls to your drawing functions in that function.</p>

<ol>

<li>(SCENERY)

<p>Code a function <tt>drawScenery()</tt> that draws a scenery (landscape, cityscape, etc) in the canvas with ID <tt>canvas-q1</tt>. Don't use images. Construct everything using the basic drawing primitives. Chances are it'll look like something out of a kindergarden class. That's perfectly okay. In fact, even good. You should try to be original. I did not even try.</p>

<img src="./house1.png" height="200" style="float: left; margin: 10px;"></img>
<p style="margin-top: 30px;">"This is my drawing of my house. There are many like it, but this one is mine."</p>
<p style="clear:both;">Make sure you call <code>drawScenery()</code> from <tt>run()</tt>.
</li>

<li>(TURTLE GRAPHICS)
<p>
  Paths in a canvas are defined using lines and arcs given in term of canvas coordinates. An alternate approach is to define a path by a sequence of "moves": starting at a given position pointing in a given direction, move forward 100 units, turn left 45 degrees, then forward 100 units, etc. This approach to drawing is called <a href="https://en.wikipedia.org/wiki/Turtle_graphics">turtle graphics</a>.</p>

  <p>We are going to represent the sequence of moves using an array. I will describe it using examples. The following array represents moving forward 100 units: <tt>["f",100]</tt>. The following array represents moving forward 100 units, turning right 45 degrees, moving forward 60 units, turning left 45 degrees, then moving forward 100 units: <tt>["f",100,"r",45,"f",60,"l",45,"f",100]</tt>. Makes sense?</p>

  <p>Just for kicks, let's add another feature. A move <tt>pu</tt> will "lift the pen off the page" so that subsequent moves are still considered but they are not actually drawn. A move <tt>pd</tt> will "put the pen back on the page" so that subsequent moves now draw again.</p>

  <p>Code a function <tt>draw(ctxt,x,y,moves)</tt> that takes a context <tt>ctxt</tt> on a canvas, an initial position (<tt>x</tt>,<tt>y</tt>) in the canvas, and a sequences of <tt>moves</tt> as above, and draws the corresponding path in the canvas. </p>

  <p>By default, the initial direction should be the unit vector of the x-axis (i.e., facing east if the canvas was a map in the standard orientation). The pen is initially down.</p>

  <p>The following should draw the letter H in a context <tt>ctxt</tt> at position (100,100):</p>
<pre>
    draw(ctxt,100,100,["f",40,
		       "r",90,
		       "f",40,
		       "l",90,
		       "f",20,
		       "l",90,
		       "f",40,
		       "r",90,
		       "f",40,
		       "r",90,
		       "f",100,
		       "r",90,
		       "f",40,
		       "r",90,
		       "f",40,
		       "l",90,
		       "f",20,
		       "l",90,
		       "f",40,
		       "r",90,
		       "f",40,
		       "r",90,
		       "f",100]);
</pre>
  <p>Code a function that draws something interesting in the canvas with ID <tt>canvas-q2</tt> using your <tt>draw()</tt> function. You should try a <a href="https://en.wikipedia.org/wiki/Sierpi%C5%84ski_curve">space-filling curve</a> or a <a href="https://en.wikipedia.org/wiki/Koch_snowflake">Koch snowflake</a>. Make sure you call your function from <tt>run()</tt></p>
  
  <p>You'll want to review your basic trigonometry. Sine and cosine functions are available in JavaScript as <tt>Math.sin()</tt> and <tt>Math.cos()</tt>.
  They expect angles in <a href="https://en.wikipedia.org/wiki/Radian">radians</a>, which range from 0 to <tt>Math.PI*2</tt>. The angles
  in the sequence of moves should be in degrees.</p>
</li>

<li>(SIMPLE ANIMATION)

  <p>Code a function <tt>drawAnimScenery()</tt> that draws the scenery you designed in Question 1 in canvas with ID <tt>canvas-q3</tt> and animates in an interesting way.</p>

  <img src="./house2.gif" height="200" style="float: right; margin: 10px;"></img>
  <p>How do you do animation? Exactly as you would expect: an animation is a movie, and a movie is just a sequence of pictures (frames) shown at regular intervals. So the trick is to repeatedly draw into the canvas, one frame at a time, erasing the canvas between each frame.</p>

  <p> On the right is an animation I constructed from my scenery above. It's actually an animated GIF because I can't well put in my canvas animation code right here, can I? (Unfortunately, the animated GIF coder is buggy, and messes up colors. Thus the weird effects in the cloud and the sun. Ignore that. Canvas animation will be fine.)</p>

  <p>There's a bit of a subtlety in doing animation in the browser: you can't just write a for-loop and draw repeatedly in the canvas within that for-loop. Most browsers only render the canvas when control <i>returns</i> from JavaScript back to the browser. So if you animate in a for-loop, all you'll see is the last frame you ended up drawing, assuming your for-loop terminates. (Remember when I said in class that the inverted program structure forced on you by the browser has consequences? This is one of those.) So what you want to do is have the <i>browser</i> control the looping. Have a look at <a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowTimers/setInterval">setInterval()</a> or <a href="https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame">requestAnimationFrame()</a>, that should give you some hint. If you're stuck, get in touch with me.</p>

<p style="clear:both;">Make sure you call <tt>drawAnimScenery()</tt> from <tt>run()</tt>.
</li>
</ol>

<p>
  Submission instructions: please email a copy of your HTML file (and any supporting files) to <a href="mailto:dataviz15projects@gmail.com">the projects submission email address</a>. If you have your code posted on a public repo such as GitHub, please feel free to email a link to it instead. One submission per team, please. Make sure that you list all team members.
</p>

	</div></li>
	
	<a name="project2"></a>
	<li  id="project2" class="project"><p><b>PROJECT 2: Mobile Message and Social Media</b></p>
	  <div class="lect">

	    <p>Due date: <i>Mon Oct 19 at 23:59</i></p>

	    <p><a href="teams-project2.txt">Team assignments</a>. (If you need help contacting your partner, or if I missed you, please get in touch with me.)</p>

	    <p>In this project, you will come up with (static) visualisations for the <a href="http://www.pewinternet.org/2015/08/19/mobile-messaging-and-social-media-2015/">Mobile Messaging and Social Media 2015</a> Pew Research Center data.</p>

	    <p>I am keeping this project pretty unstructured as a
	    trial run. If that works well, upcoming projects will
	    remain unstructured. The idea is to have you explore and
	    try things out as much as possible.</p> 

	    
	    <p>First off, download the report above. The report, among
	    other things, gives you percentages of online users using
	    one of five social media sites (Facebook, Pinterest,
	    Instagram, LinkedIn, Twitter), cut across demographic
	    segments (gender, race, age, education, income, and
	      residential area). </p>

	    <p>Then, I want you to implement visualizations for the
	    data. The visualizations I want:
	      <ul>
		<li>For each social site and each demographic segment,
		a chart showing the percentage of online users using
		that social site split across all the groups in the
		segment. (Visualizations of the first type)
		<li>For each demographic segment, a chart showing the
		percentage of online users using each of the 
		social 		sites across all the groups in the
		  segments. (Visualizations of the second type)</li>
	      </ul>
	    </p>
	    <p>You will have to enter the data yourself
	    unfortunately, but on the flip side, you will have full
	    freedom to choose whatever data layout that you think will
	    help you. Then, I suggest you proceed in three phases:</p>
	    <ol>
	      <li><p>Pick one visualization of the first type (one site,
	      one segment) and figure out a nice chart for it and
	      implement it. Ideally, you should be able to parametrize
	      the process that you use so that you can chart any site
	      and segment. Do the same for one vizualization of the
	      second type.</p>
	      <p>Don't restrict yourself to bar charts. You can
	      explore dot charts, bubble charts, heat maps, anything
	      that you think can help a viewer understand what are
	      the most popular sites/segments in each of the
	      visualizations. I leave it up to you what you choose to
	      emphasize, what you think it important.</p> </li>
	      
	      <li><p>Extend what you did above so that you visualize
		  <i>all</i> of the data: all the visualizations of the first type,
	      all the visualizations of the second type.</p></li>

	      <li><p>Wrap it up in a nice bow: put all of the
	      visualizations on a web page that is usable and
	      reasonably nice to look at. As I said in
	      class, it's fine if all the charts are all on the page,
	      just order them and lay them out in some reasonable
	      fashion. (<i>I will talk about how to lay out multiple
	      charts in the next lecture</i>.) If you know how to use
	      buttons and selectors on a web page, feel free to use
	      those to make the page less overwhelming. If you don't
	      know how to use them, don't worry, we'll look at them in
		  the next module. They are not required here.</p></li>
	    </ol>

	    <p>I recommend you keep it all in one single HTML file, but
	    you do not have to. I ask that you place the data directly
	    into the file like in the third lecture's examples (as
	    opposed to pulling it from a CSV file, say) and that you
	      use D3 as the SVG manipulation library.</p>

<p>
  Submission instructions: please email a copy of your HTML file (and any supporting files) to <a href="mailto:dataviz15projects@gmail.com">the projects submission email address</a>. If you have your code posted on a public repo such as GitHub, please feel free to email a link to it instead. One submission per team, please. Make sure that you list all team members.
</p>
	  </div>
	</li>


	<a name="project3"></a>
	<li  id="project3" class="project"><p><b>PROJECT 3: Global Attitudes 2013</b></p>
	  <div class="lect">

	    <p>Due date: <i>Mon Nov 2 at 23:59</i></p>

	    <p><a href="teams-project3.txt">Team assignments</a>. (If you need help contacting your partner, or if I missed you, please get in touch with me.)</p>

	    <p>In this project, you will come up with a dynamic
	    visualisation for
	    the <a href="http://www.pewglobal.org/">Pew Research
	    Global Attitudes</a>, using their 2013 data.</p>  

	    <p>Again, this is pretty unstructured. 
	      The idea is to have you explore and
	    try things out as much as possible.</p> 

	    <ol>
	      <li>
	    <p>Have a look at the <a href="project3/Pew Research Global Attitudes Project Spring 2013 Questionnaire for Web.pdf">survey questionnaire</a>. 
	      The Global Attitudes Project collects data from a
	      survey given to residents of various countries. 
	      Note that not everyone is asked every question
	      necessarily: some questions are asked only in some
	      countries, while some questions are asked only if the
	      answer to a previous question is a specific one.</p>

	    <p>Identify a few (between 5 and 10) of the questions that
	    you find interesting. That's going to be highly
	    personal. Those are the questions that you are going to
	    visualize.</p>
	      </li>

	      <li>
		<p>Get the dataset that corresponds to the
		  countries you want to include in the visualization. Turns
		  out that the dataset is too large to comfortably be loaded
		  all at once into the browser. (At least, on my
		  system. Your mileage may vary.) Here are the datasets you
		  can use: 
		  <a href="project3/america.csv.zip">America (North and South)</a>,
		  <a href="project3/africa.csv.zip">Africa</a>,
		  <a href="project3/europe.csv.zip">Europe</a>,
		  <a href="project3/middle.csv.zip">Middle East</a>,
		  <a href="project3/apac.csv.zip">Asia-Pacific</a>.
		  All of these datasets are CSV files (zipped), where the first
		  line of the file is the header names for the columns,
		  and each subsequent line records the survey answers for
		  one respondent. There is a column for every question on
		  the survey questionnaire. The column headers reflect the names that
		  appear in the survey questionnaire.</p>
		
		<p>You can get a <a href="project3/Pew Research Global Attitudes Project Spring 2013 Topline for Web.pdf">summary of the survey data</a>, aggregated as
		  percentage of all respondents to each question, per
		  country.</p>
	      </li>
	      
	      <li>
		<p>Create a dynamic visualization (with one or more
	      views) of the questions you chose, for the countries you
	      chose.
	      How should you visualize that data? 
		  That's up to you. Certainly, the first step will be
		  to read in the CSV file containing your data, and
		  then use that data to create one (or more)
		  visualization. I will ask you to focus on switching and
		  filtering interactions. So you will probably want to
		  allow the user to switch between the various questions you
		  decided were interesting, and also allow the user to
		  filter the data based on the answers to other
		  questions that you think would make for interesting
		  segments. You should feel free to
		  combine questions in the same view, if you want,
		  and if it is relevant to the data you want to
	      showcase.</p>
	      </li>

	      <li><p> As usual, wrap it up in a bow, and try to make
		  it pretty. </p></li>
	    </ol>


	    <p>In the coming days, I will post a few dynamic
	    visualizations that may help spark your imagination. If
	    you have doubts as to whether what you're thinking of is
	    reasonable, feel free to drop me an email with your idea,
	      and I'll tell you.</p>

	    <p>I recommend you create a folder for the project and
	    place all your files in that folder, including the CSV
	    file containing your data. It's probably a good idea to
	    place your JavaScript code in its own file as well. If you
	    don't know how to link your HTML page to an external
	    JavaScript file, find out how. It's not difficult. Again,
	    I ask that you use D3 as the SVG manipulation library to
	    create your views.</p>

<p>
  Submission instructions: please email a zipped file with your
  project folder to <a href="mailto:dataviz15projects@gmail.com">the projects submission email address</a>. If you have your code posted on a public repo such as GitHub, please feel free to email a link to it instead. One submission per team, please. Make sure that you list all team members.
</p>
	  </div>
	</li>


	<a name="project4"></a>
	<li  id="project4" class="project"><p><b>PROJECT 4: Mortality Data</b></p>
	  <div class="lect">

	    <p>Due date: <del><i>Wed Nov 18 at 23:59</i></del> <ins><i>Sun Nov 22 at 23:59</i></ins></p>

	    <p><a href="teams-project4.txt">Team assignments</a>. (If
	    you need help contacting your partner, or if I missed you,
	    please get in touch with me.)</p> 

	    <p>In this project, you will come up with a dynamic
	    visualisation for
	    the <a href="http://www.cdc.gov/nchs/data_access/Vitalstatsonline.htm#Mortality_Multiple">NCHS
	    Mortality Multiple Cause</a> data.</p>  

	    <p>That data is large, so you will need some back-end
	    support. To make sure I can work with your submission, I
	    will ask you to create a small web server in
	    the <a href="http://bottlepy.org/docs/dev/index.html">Python
		Bottle framework</a>, that pulls from a <a href="https://www.sqlite.org/">SQLite database</a>
	    containing the data. There's nothing special about those
	    technologies except for the fact that they're super easy
	    to set up and require no infrastructure to speak of. You
	    will also create a D3 front-end to the data for
	    visualization purposes, as we've done since the
	    beginning. See the November 2nd lecture for examples.</p>

	    <p>I've split up the project in two parts.</p>

	    <ol>
	      <li> 
		<p>
		  Download the mortality data files
		  for <a href="ftp://ftp.cdc.gov/pub/Health_Statistics/NCHS/Datasets/DVS/mortality/mort2003us.zip">2003</a>,
		  <a href="ftp://ftp.cdc.gov/pub/Health_Statistics/NCHS/Datasets/DVS/mortality/mort2008us.zip">2008</a>,
		  and <a href="ftp://ftp.cdc.gov/pub/Health_Statistics/NCHS/Datasets/DVS/mortality/mort2013us.zip">2013</a>.
		</p>
		<p>As I mentioned in class, they are in some baroque
		data format. I've provided you with
		a <a href="project4/makedb.py">python script to take
		one of those files and push its data into a SQLite
		database</a>. Running <tt>python makedb.py
		&lt;dataset&gt;</tt> will create a
		file <tt>mortality.db</tt> (if it doesn't already
		exist in the current folder) containing a
		table <tt>mortality</tt>, and push the dataset into
		the table. (Running <tt>makedb.py</tt> in the presence
		of an existing <tt>mortality.db</tt> file will simply
		add the data to the <tt>mortality</tt> table in the
		database. Don't push the same dataset twice, or you'll
		get duplicated data.)
		</p>
		
		<p>
		  Please don't alter the data. I'll be running your
		  code with my own database.
		</p>

		<p>
		  Once you have a file <tt>mortality.db</tt>
		  containing the 2003, 2008, and 2013 mortality data,
		  write a Python web server in Bottle that can access
		  the mortality database using
		  the <a href="https://docs.python.org/2/library/sqlite3.html">sqlite3</a>
		  module. 
		</p>

		<p>
		  As a first step, have the web server response to GET
		  requests at URI <tt>/test</tt> by returning a JSON
		  file containing the following data:
		</p>

		<ul>
		  <li>For each cause of death in the <tt>Cause_Recode_39</tt> column, the average age of the persons that died from that cause, for each year.</li>
		  <li>For each age, the top cause of death (as per the <tt>Cause_Record_39</tt>) for deaths at that age, for each year.</li>
		</ul>
		<p>Structure the JSON however you see fit.</p>

		<p>
		  Write a simple HTML file <tt>test.html</tt> that
		  makes a GET call to URI <tt>/text</tt> on the web server you wrote and
		  displays the resulting JSON data. Keep it
		  simple. Produce some tables showing the data.
		  Something that lets you (and me)
		  test quickly whether the data you return makes
		  sense.
		</p>

	      </li>

	      <li>
		<p>
		Create a visualization for the mortality data in a
		file <tt>project4.html</tt>. Here are the parameters I
		want for the visualization:
		<ul>
		  <li>it should give data for 2003, 2008, and 2013;</li>
		  <li>it should contain at least three views that are
		    shown simultaneously on screen;</li>
		  <li>those three views should be synchronized: they
		    should run over the same underlying data, but
		    interacting with a view should 
		    affect the other views (either via switching,
		    filtering, or refining). </li>
		  <li>you can have external filters or selectors that
		  give you more control over the data being
		    visualized.</li>
		</ul>

		<p>There is a fair amount of demographic
		  information in the data set. Dive in and find
		  interesting segments.</p>

		<p>
		  You will want to figure out what data you will need
		  for your visualization, and you will need to extend
		  your server so that it provides that data. Please don't
		  change what the <tt>/test</tt> URI returns. Instead,
		  create a new URI <tt>/data</tt> that returns the
		  data you need for your visualization, and have your
		  visualization use that URI. 
		</p>

		<p>
		  Please provide enough instructions on-screen so I
		  have a sense of what your interactions do (i.e.,
		  don't do what my demoes do!)
		</p>

		<p>As usual, wrap it up in a bow, and try to make
		  it pretty.</p>

		<p>If you have any questions or want more guidance, feel
		free to send me an email.
		</p>


	      </li>

	    </ol>


	    <p>I recommend you create a folder for the project and
	    place all your files in that folder, including the
	    database file you create and the server. It's probably a
	    good idea to place your JavaScript code in its own file as
	    well.</p> 

	    <p>
	      Submission instructions: please email a zipped file with your
	      project folder to <a href="mailto:dataviz15projects@gmail.com">the
		projects submission email address</a>. If you have your code posted
	      on a public repo such as GitHub, please feel free to email a link to
	      it instead. Do not include the database file, as it's
	      going to be huge. I can just create my own.</p>
	    
	    <p>Put a README file in your folder that explains how to setup and run
	      your code, if there's anything special I should know.</p>

	    <p>Make sure you include both <tt>test.html</tt> and <tt>project4.html</tt>.</p>
	    
	    <p>
	      One submission per team, please. Make sure that you list all team members.
	    </p>

	  </div>
	</li>


	<a name="project5"></a>
	<li  id="project5" class="project"><p><b>FINAL PROJECT</b></p>
	  <div class="lect">

	    <p>Due dates — Proposal: <i>Sun Dec 6</i> — Final Project: <i>Wed Dec 16</i></p>

	    <p>In this project, you will create a dynamic visualisation for the dataset of your choice.</p>

	    <p>You are to work in teams of 2 or 3. (I will expect something a lot more polished from teams of 3, be warned.) You get to choose your team.
	      I am keeping the project deliberately vague. But I want the visualization to be interactive, at the level of Project 3 or 4.</p>

	    <p>There are plenty of datasets around for you to play
	    with at
	      <a href="http://www.data.gov/">Data.gov</a>, 
	      <a href="http://sunlightfoundation.com/">Sunlight Foundation</a>, or
	      <a href="http://www.pewresearch.org/data/">Pew Research Center</a>. 
	      Datasets are also available from <a href="https://aws.amazon.com/public-data-sets/">Amazon Web Services</a> 
	      (which may require an account to get to S3 where some of the sets are hosted).
	      Stanford has a <a href="http://snap.stanford.edu/data/">large collection of network datasets</a>. 
	      Supposedly, <a href="http://opendata.stackexchange.com/questions/1073/where-to-get-imdb-datasets">you
		can get IMDB data</a>, but I haven't tried it or know
	      whether any of it still works. There's
	      a <a href="https://www.reddit.com/r/datasets/">subreddit
		devoted to datasets</a> because obviously. 
	    </p>

	    <p>You can feed your dataset to your visualization via a
	    JSON or a CSV file like in Project 3, or via a server
	    back-end like in Project 4. I will let you determine which
	    is more appropriate. If you choose a server back-end, you
	    may choose whichever one you like. The only constraint is
	    that the front-end should be in JavaScript running on a
	    web browser, and using the D3 framework we've been using
	    this semester.</p> 

	    <p>Project milestones:

	    <ol>
	      <li><p>By Sunday Dec 6, please send me an email to 
		  <a href="mailto:dataviz15projects@gmail.com">dataviz15projects@gmail.com</a>
	      detailing: the members of your team, the dataset that
	      you want to use, and a description of how you're
	      proposing to visualize the data.
	      </p></li>

	      <li><p>By Wednesday Dec 16, please submit your project by
	      email to
		  <a href="mailto:dataviz15projects@gmail.com">dataviz15projects@gmail.com</a>
	      If you have your code posted on a public repo such as
	      GitHub, feel free me to send me a link to it
	      instead. Make sure you include a README detailing what's
	      needed to run your code, or a link to where I can see a
		  running version of your visualization.</p></li>

	      <li><p>On Wednesday Dec 16 (16:00-19:00), you will
	      present their visualization in class, giving a demo and
	      a quick overview of how you approached the problem and
		  implemented the visualization. Aim for a fifteen
	      minutes presentation.</p></li>
	      
	    </ol></p>

	  </div>
	</li>


    </ul>

    </div>

  </body>
</html>
